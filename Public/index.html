<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Triage Drone 2040 ‚Äì Control Screen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #040814;
      --panel: #0b1020;
      --accent: #3fbcff;
      --accent-soft: rgba(63, 188, 255, 0.18);
      --danger: #ff4b5c;
      --warning: #ffc857;
      --success: #4ade80;
      --muted: #9ca3af;
      --text: #e5e7eb;
      --text-strong: #f9fafb;
      --card-radius: 18px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827 0, #020617 40%, #000 100%);
      color: var(--text);
      overflow: hidden;
    }

    .root {
      display: flex;
      flex-direction: column;
      height: 100vh;
      width: 100vw;
      padding: 12px 18px;
      gap: 10px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 12px;
      border-radius: 999px;
      background: linear-gradient(90deg, #020617, #020617, #020617);
      border: 1px solid rgba(148, 163, 184, 0.3);
      font-size: 14px;
      color: var(--text);
    }

    header .title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
      font-weight: 700;
      color: var(--text-strong);
    }

    header .title span {
      font-size: 22px;
    }

    header .title div div:nth-child(2) {
      color: var(--muted);
      font-weight: 500;
    }

    header .operator {
      font-size: 14px;
      color: var(--muted);
      font-weight: 600;
    }

    .glow {
      color: var(--accent);
      text-shadow: 0 0 10px rgba(56, 189, 248, 0.7);
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-height: 0;
    }

    /* Global timer bar visible on all screens */
    .timer-global {
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.45);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      font-weight: 600;
      color: var(--muted);
      box-shadow: 0 12px 25px rgba(15, 23, 42, 0.7);
    }

    .timer-global span.time {
      font-weight: 800;
      font-size: 20px;
      color: var(--accent);
    }

    .timer-global-sub {
      font-size: 11px;
      color: var(--muted);
      margin-top: 2px;
    }

    /* Screens */

    .screen {
      flex: 1;
      display: none;
      min-height: 0;
    }

    .screen.active {
      display: flex;
    }

    .screen-column {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 100%;
      min-height: 0;
    }

    /* Panels */

    .panel {
      background: radial-gradient(circle at top left, #111827 0, #020617 55%);
      border-radius: var(--card-radius);
      border: 1px solid rgba(148, 163, 184, 0.25);
      padding: 14px 16px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.8);
      min-height: 0;
      overflow: hidden;
      color: var(--text);
    }

    .panel h2 {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-strong);
      text-shadow: 0 0 8px rgba(15, 23, 42, 0.8);
    }

    .scenario-select {
      width: 100%;
      margin-top: 4px;
      margin-bottom: 10px;
    }

    .scenario-select select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: #020617;
      color: var(--accent);
      font-size: 14px;
      outline: none;
      font-weight: 600;
    }

    /* SCREEN 1 layout */

    .screen1-layout {
      display: grid;
      grid-template-columns: 55% 45%;
      gap: 10px;
      width: 100%;
      height: 100%;
      min-height: 0;
    }

    .scan-layout {
      display: grid;
      grid-template-columns: 55% 45%;
      gap: 12px;
      height: calc(100% - 40px);
      min-height: 0;
    }

    .scan-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-height: 0;
      max-width: 540px;
    }

    .scan-row {
      border-radius: 16px;
      padding: 8px 10px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: rgba(15, 23, 42, 0.92);
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 13px;
      position: relative;
      overflow: hidden;
      color: var(--text);
    }

    .scan-row .scan-label {
      font-weight: 600;
      color: var(--text-strong);
    }

    .scan-row .scan-status {
      font-size: 11px;
      color: var(--muted);
    }

    .scan-row::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at left, rgba(56, 189, 248, 0.12), transparent 60%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.18s ease-out;
    }

    .scan-row.filled {
      border-color: rgba(56, 189, 248, 0.9);
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.45);
    }

    .scan-row.filled .scan-status {
      color: #bbf7d0;
    }

    .scan-row.filled::before {
      opacity: 1;
    }

    .scan-instructions {
      margin-top: 4px;
      font-size: 11px;
      color: var(--muted);
      line-height: 1.5;
    }

    .scan-instructions ol {
      margin-left: 16px;
      margin-top: 4px;
    }

    .scan-actions {
      margin-top: 8px;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
    }

    .scan-status-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 11px;
      color: var(--muted);
    }

    #scanStatusLabel {
      color: var(--muted);
    }

    #scanPercentLabel {
      color: var(--accent);
      font-weight: 600;
    }

    .btn-primary,
    .btn-secondary {
      padding: 6px 12px;
      border-radius: 999px;
      border: none;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, #3b82f6, #22c55e);
      color: white;
      box-shadow: 0 12px 30px rgba(34, 197, 94, 0.5);
    }

    .btn-primary:disabled {
      opacity: 0.4;
      cursor: default;
      box-shadow: none;
    }

    .btn-secondary {
      background: #111827;
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: var(--muted);
      box-shadow: none;
    }

    .figure-wrapper {
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: center;
      justify-content: space-between;
      color: var(--muted);
    }

    .figure-visual {
      position: relative;
      width: 100%;
      max-width: 320px;
      aspect-ratio: 9 / 20;
      margin: 0 auto;
      border-radius: 999px;
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.8) 0, #020617 45%, #000 100%);
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.9);
    }

    .figure-visual::before {
      content: "";
      position: absolute;
      inset: -10%;
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.6), transparent 55%);
      pointer-events: none;
      z-index: 0;
    }

    .figure-silhouette {
      position: absolute;
      inset: 2% 10% 0 10%;
      z-index: 1;
    }

    .figure-img-base,
    .figure-img-fill {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .figure-img-base {
      opacity: 0.26;
      filter: drop-shadow(0 0 14px rgba(15, 23, 42, 0.9));
    }

    .figure-img-fill {
      opacity: 0;
      filter: drop-shadow(0 0 22px rgba(56, 189, 248, 0.95));
      clip-path: inset(100% 0 0 0);
      transition:
        clip-path 0.55s cubic-bezier(0.16, 1, 0.3, 1),
        opacity 0.35s ease-out;
    }

    .figure-hotspot {
      position: absolute;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      background: rgba(15, 23, 42, 0.9);
      color: var(--accent);
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 3;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.18s ease-out, transform 0.12s ease-out, box-shadow 0.18s ease-out;
    }

    .figure-hotspot.active {
      opacity: 1;
      pointer-events: auto;
      box-shadow: 0 0 14px rgba(56, 189, 248, 0.9);
    }

    .figure-hotspot span {
      pointer-events: none;
    }

    .figure-hotspot:hover {
      transform: scale(1.04);
    }

    .hotspot-id      { top: 7%;  left: 50%; transform: translate(-50%, -50%); }
    .hotspot-conc    { top: 16%; left: 50%; transform: translate(-50%, -50%); }
    .hotspot-hr      { top: 26%; left: 52%; transform: translate(-50%, -50%); }
    .hotspot-rr      { top: 33%; left: 48%; transform: translate(-50%, -50%); }
    .hotspot-bp      { top: 42%; left: 18%; transform: translate(-50%, -50%); }
    .hotspot-inj1    { top: 55%; left: 50%; transform: translate(-50%, -50%); }
    .hotspot-inj2    { top: 75%; left: 50%; transform: translate(-50%, -50%); }

    .figure-caption {
      font-size: 11px;
      color: var(--muted);
      text-align: center;
    }

    /* Vitals styling */

    .vitals-list {
      color: var(--text);
    }

    .vital-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .vital-label {
      font-size: 13px;
      color: var(--muted);
    }

    .vital-value {
      font-size: 13px;
      font-weight: 700;
      color: var(--accent);
    }

    /* SCREEN 2 ‚Äì triage layout */

    .screen2-layout {
      width: 100%;
      height: 100%;
      min-height: 0;
      display: flex;
      flex-direction: column;
    }

    .triage-full-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .triage-controls {
      display: flex;
      flex-direction: column;
      gap: 8px;
      height: 100%;
    }

    .triage-circles {
      display: flex;
      gap: 14px;
      align-items: center;
    }

    .triage-circle {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: 2px solid transparent;
      cursor: pointer;
      position: relative;
      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, border-color 0.12s ease-out;
    }

    .triage-circle[data-level="Red"] { background: var(--danger); }
    .triage-circle[data-level="Yellow"] { background: var(--warning); }
    .triage-circle[data-level="Green"] { background: var(--success); }
    .triage-circle[data-level="Black"] { background: #020617; border: 1px solid #6b7280; }

    .triage-circle span {
      position: absolute;
      bottom: -18px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 11px;
      white-space: nowrap;
      color: var(--muted);
      font-weight: 600;
    }

    .triage-circle.selected {
      transform: scale(1.08);
      box-shadow: 0 0 18px rgba(94, 234, 212, 0.8);
      border-color: #e5e7eb;
    }

    .triage-steps-label {
      font-size: 12px;
      color: var(--muted);
      font-weight: 600;
    }

    .hospital-tests {
      margin-top: 8px;
      display: grid;
      grid-template-columns: 55% 45%;
      gap: 8px;
      font-size: 13px;
      flex: 1;
      min-height: 0;
    }

    .hospital-card {
      border-radius: 16px;
      padding: 8px 10px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.92);
      cursor: pointer;
      margin-bottom: 6px;
      color: var(--text);
    }

    .hospital-card.selected {
      border-color: var(--accent);
      box-shadow: 0 0 16px rgba(59, 130, 246, 0.7);
    }

    .hospital-name {
      font-weight: 700;
      margin-bottom: 3px;
      color: var(--text-strong);
    }

    .hospital-meta {
      font-size: 11px;
      color: var(--muted);
    }

    .tests-list {
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.96);
      padding: 8px 10px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      min-height: 0;
      color: var(--text);
    }

    .test-row {
      display: flex;
      gap: 6px;
      align-items: center;
      font-size: 12px;
      color: var(--text);
    }

    .test-row input {
      accent-color: var(--accent);
    }

    .submit-row {
      margin-top: 8px;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
      font-size: 12px;
      color: var(--muted);
    }

    /* SCREEN 3 ‚Äì results + leaderboard */

    .screen3-layout {
      width: 100%;
      height: 100%;
      min-height: 0;
      display: grid;
      grid-template-columns: 55% 45%;
      gap: 10px;
    }

    .results-table {
      width: 100%;
      font-size: 12px;
      border-collapse: collapse;
      color: var(--text);
    }

    .results-table th,
    .results-table td {
      padding: 4px 6px;
      border-bottom: 1px solid rgba(30, 64, 175, 0.5);
      text-align: left;
    }

    .results-table th {
      font-weight: 700;
      color: var(--muted);
    }

    .match-cell {
      text-align: center;
      font-size: 14px;
    }

    .match-yes { color: #4ade80; }
    .match-no { color: #f97373; }

    .score-summary {
      margin-top: 6px;
      font-size: 13px;
      font-weight: 700;
      color: var(--accent);
    }

    .leaderboard {
      margin-top: 8px;
      font-size: 12px;
      color: var(--text);
    }

    .leaderboard table {
      width: 100%;
      border-collapse: collapse;
    }

    .leaderboard th,
    .leaderboard td {
      padding: 3px 4px;
      border-bottom: 1px solid rgba(30, 64, 175, 0.4);
      text-align: left;
    }

    .leaderboard th {
      font-weight: 700;
      color: var(--muted);
    }

    /* Modal */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .modal-backdrop.open {
      display: flex;
    }

    .modal {
      background: #020617;
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      max-width: 80vw;
      max-height: 80vh;
      padding: 10px;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.95);
      display: flex;
      flex-direction: column;
      gap: 6px;
      color: var(--text);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      color: var(--muted);
      font-weight: 600;
    }

    .modal-close {
      border: none;
      background: transparent;
      color: var(--muted);
      cursor: pointer;
      font-size: 16px;
    }

    .modal-body {
      border-radius: 12px;
      overflow: hidden;
      margin-top: 4px;
    }

    .modal-body img {
      max-width: 100%;
      max-height: 70vh;
      display: block;
    }
  </style>
</head>
<body>
<div class="root">
  <header>
    <div class="title">
      <span>üöÅ</span>
      <div>
        <div>AI Triage Drone 2040</div>
        <div>Mass casualty triage training ‚Ä¢ Human vs AI</div>
      </div>
    </div>
    <div class="operator" id="operatorLabel">
      Operator: Waiting for mobile operator‚Ä¶
    </div>
  </header>

  <main>
    <!-- Global timer bar -->
    <div>
      <div class="timer-global">
        <div>PATIENT LOADING ‚Ä¢ TRIAGE TIMER</div>
        <span class="time" id="timerDisplay">0.00 s</span>
      </div>
      <div class="timer-global-sub" id="timerHint">
        Scan all QR tags first. The timer will start when you continue to triage.
      </div>
    </div>

    <!-- SCREEN 1 ‚Äì Scan & Data Collection -->
    <div class="screen active" id="screen1">
      <div class="screen-column">
        <div class="screen1-layout">
          <section class="panel" id="bodyPanel">
            <h2>Patient Body Map &amp; Drone Scan Feed</h2>

            <div class="scenario-select">
              <select id="scenarioSelect"></select>
            </div>

            <div class="scan-layout">
              <div class="scan-list">
                <div class="scan-row" data-scan="id">
                  <div class="scan-label">Eyes / ID</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>
                <div class="scan-row" data-scan="conclevel">
                  <div class="scan-label">Face ‚Äì Consciousness</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>
                <div class="scan-row" data-scan="hr">
                  <div class="scan-label">Neck ‚Äì Heart rate</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>
                <div class="scan-row" data-scan="rr">
                  <div class="scan-label">Chest ‚Äì Respiratory rate</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>
                <div class="scan-row" data-scan="bp">
                  <div class="scan-label">Arms ‚Äì Blood pressure</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>
                <div class="scan-row" data-scan="injury1">
                  <div class="scan-label">Pelvis / Abdomen ‚Äì Injury 1</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>
                <div class="scan-row" data-scan="injury2">
                  <div class="scan-label">Legs / Feet ‚Äì Injury 2</div>
                  <div class="scan-status">Waiting for scan‚Ä¶</div>
                </div>

                <div class="scan-instructions" id="scanHint">
                  Scan from head to toe in this order. The silhouette will light up with each scan.
                  When all scans are done you can continue to the triage decision.
                  <ol>
                    <li>Eyes ‚Äì ID</li>
                    <li>Face ‚Äì consciousness level</li>
                    <li>Neck ‚Äì heart rate</li>
                    <li>Chest ‚Äì respiratory rate</li>
                    <li>Arms ‚Äì blood pressure (not used in Scenario 4)</li>
                    <li>Pelvis / Abdomen ‚Äì main injury</li>
                    <li>Legs / Feet ‚Äì secondary injury</li>
                  </ol>
                </div>

                <div class="scan-actions">
                  <div class="scan-status-block">
                    <span id="scanStatusLabel">Waiting for scans‚Ä¶</span>
                    <span id="scanPercentLabel">Body scanned: 0%</span>
                  </div>
                  <button class="btn-primary" id="continueBtn" disabled>Continue to triage</button>
                </div>
              </div>

              <div class="figure-wrapper">
                <div class="figure-visual" id="figureVisual">
                  <div class="figure-silhouette">
                    <img src="images/body_silhouette.png" alt="Patient silhouette" class="figure-img-base" />
                    <img src="images/body_silhouette.png" alt="" class="figure-img-fill" id="figureFill" />
                  </div>

                  <button class="figure-hotspot hotspot-id" data-scan="id" title="Eyes / ID"><span>‚úâ</span></button>
                  <button class="figure-hotspot hotspot-conc" data-scan="conclevel" title="Consciousness"><span>‚úâ</span></button>
                  <button class="figure-hotspot hotspot-hr" data-scan="hr" title="Heart rate"><span>‚úâ</span></button>
                  <button class="figure-hotspot hotspot-rr" data-scan="rr" title="Respiratory rate"><span>‚úâ</span></button>
                  <button class="figure-hotspot hotspot-bp" data-scan="bp" title="Blood pressure"><span>‚úâ</span></button>
                  <button class="figure-hotspot hotspot-inj1" data-scan="injury1" title="Injury 1"><span>‚úâ</span></button>
                  <button class="figure-hotspot hotspot-inj2" data-scan="injury2" title="Injury 2"><span>‚úâ</span></button>
                </div>
                <div class="figure-caption">
                  During scanning, the body fills gradually from head to toe.  
                  After all scans are complete you can review the images, then move to the triage decision.
                </div>
              </div>
            </div>
          </section>

          <section class="panel">
            <h2>Live Vitals (from drone)</h2>
            <div class="vitals-list" style="display:flex;flex-direction:column;gap:6px;font-size:14px;">
              <div class="vital-row">
                <div class="vital-label">Consciousness</div>
                <div class="vital-value" id="vConsciousness">‚Äî</div>
              </div>
              <div class="vital-row">
                <div class="vital-label">Respiratory rate (RR)</div>
                <div class="vital-value" id="vRR">‚Äî</div>
              </div>
              <div class="vital-row">
                <div class="vital-label">Heart rate (HR)</div>
                <div class="vital-value" id="vHR">‚Äî</div>
              </div>
              <div class="vital-row">
                <div class="vital-label">Blood pressure (BP)</div>
                <div class="vital-value" id="vBP">‚Äî</div>
              </div>
              <div class="vital-row">
                <div class="vital-label">Key injury / problem</div>
                <div class="vital-value" id="vKeyInjury">‚Äî</div>
              </div>
            </div>

            <div style="margin-top:10px;font-size:11px;color:var(--muted);border-radius:14px;border:1px dashed rgba(148,163,184,0.5);padding:8px 10px;">
              <div style="font-weight:700;margin-bottom:4px;color:var(--accent);">COMING SOON</div>
              <div style="font-weight:700;color:var(--text-strong);">AI Paramedic Support Module</div>
              <div>Drone will recommend the exact medical tools paramedics should bring to the scene before ambulance arrival.</div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <!-- SCREEN 2 ‚Äì Human triage decision -->
    <div class="screen" id="screen2">
      <div class="screen2-layout">
        <section class="panel triage-full-panel">
          <h2>Human Triage Decision</h2>
          <div class="triage-controls">
            <div class="triage-steps-label">Step 1 ‚Äî choose triage category</div>
            <div class="triage-circles">
              <div class="triage-circle" data-level="Red">
                <span>Red</span>
              </div>
              <div class="triage-circle" data-level="Yellow">
                <span>Yellow</span>
              </div>
              <div class="triage-circle" data-level="Green">
                <span>Green</span>
              </div>
              <div class="triage-circle" data-level="Black">
                <span>Black</span>
              </div>
            </div>

            <div class="hospital-tests">
              <div>
                <div class="triage-steps-label" style="margin-bottom:4px;">Step 2 ‚Äî choose receiving hospital</div>
                <div id="hospitalList"></div>
              </div>
              <div>
                <div class="triage-steps-label" style="margin-bottom:4px;">Step 3 ‚Äî choose ER tests / care actions</div>
                <div class="tests-list" id="testsList"></div>
              </div>
            </div>

            <div class="submit-row">
              <span id="decisionHint">Complete triage, hospital and tests after scanning all regions and pressing Continue.</span>
              <button class="btn-primary" id="submitDecisionBtn" disabled>Submit Decision</button>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- SCREEN 3 ‚Äì Results, Leaderboard & Coming Soon -->
    <div class="screen" id="screen3">
      <div class="screen3-layout">
        <section class="panel">
          <h2>Human vs AI Final Results</h2>
          <table class="results-table">
            <thead>
            <tr>
              <th>Category</th>
              <th>Human</th>
              <th>AI</th>
              <th class="match-cell">Match</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>Triage</td>
              <td id="resHumanTriage">‚Äî</td>
              <td id="resAITriage">‚Äî</td>
              <td class="match-cell" id="matchTriage">‚Äî</td>
            </tr>
            <tr>
              <td>Hospital</td>
              <td id="resHumanHospital">‚Äî</td>
              <td id="resAIHospital">‚Äî</td>
              <td class="match-cell" id="matchHospital">‚Äî</td>
            </tr>
            <tr>
              <td>ER tests / actions</td>
              <td id="resHumanTests">‚Äî</td>
              <td id="resAITests">‚Äî</td>
              <td class="match-cell" id="matchTests">‚Äî</td>
            </tr>
            <tr>
              <td>Time</td>
              <td id="resHumanTime">‚Äî</td>
              <td id="resAITime">‚Äî</td>
              <td class="match-cell" id="matchTime">‚Äî</td>
            </tr>
            </tbody>
          </table>

          <div class="score-summary" id="scoreSummary">
            Score: 0 / 12 points
          </div>

          <div style="margin-top:12px;">
            <button class="btn-primary" id="resetSimBtn">‚ñ∂ Play new game</button>
          </div>

          <div style="margin-top:12px;font-size:11px;color:var(--muted);border-radius:14px;border:1px dashed rgba(148,163,184,0.5);padding:8px 10px;">
            <div style="font-weight:700;margin-bottom:4px;color:var(--accent);">COMING SOON</div>
            <div style="font-weight:700;color:var(--text-strong);">AI Paramedic Support Module</div>
            <div>Drone will recommend tools and equipment before ambulance arrival, based on injuries and vitals.</div>
          </div>
        </section>

        <section class="panel">
          <h2>Live Leaderboard</h2>
          <div class="leaderboard">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;">
              <div style="font-weight:700;">Top Scores (persistent)</div>
              <button class="btn-primary" style="padding:4px 10px;font-size:11px;background:linear-gradient(135deg,#ef4444,#f97316);" id="resetLeaderboardBtn">
                Reset board
              </button>
            </div>

            <!-- Mini (top 5) -->
            <div style="margin-bottom:6px;font-size:12px;font-weight:600;color:var(--accent);">Top 5</div>
            <table>
              <thead>
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Mode</th>
                <th>Scenario</th>
                <th>Score</th>
                <th>Time</th>
              </tr>
              </thead>
              <tbody id="leaderboardMiniBody"></tbody>
            </table>
          </div>

          <!-- Full leaderboard -->
          <div class="leaderboard" style="margin-top:10px;">
            <div style="font-weight:700;margin-bottom:4px;">Full board</div>
            <table>
              <thead>
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Mode</th>
                <th>Scenario</th>
                <th>Score</th>
                <th>Time</th>
              </tr>
              </thead>
              <tbody id="leaderboardFullBody"></tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </main>
</div>

<!-- IMAGE MODAL -->
<div class="modal-backdrop" id="imageModal">
  <div class="modal">
    <div class="modal-header">
      <span id="modalTitle">Scan image</span>
      <button class="modal-close" id="modalCloseBtn">‚úï</button>
    </div>
    <div class="modal-body">
      <img id="modalImage" src="" alt="Scan" />
    </div>
  </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
/*  JS IS IDENTICAL TO THE PREVIOUS VERSION  */
/*  (all functionality preserved; only CSS colors were changed)  */

/* ---------- SCENARIOS (same as before, corrected 3 & 4) ---------- */

const socket = io();

const scenarios = [
  /* ‚Ä¶ keep the same JS from your previous working version here ‚Ä¶ */
];

//  ‚ùó To keep this message short, I didn't repeat the entire JS block.
//  Replace the <script> content with the exact JS from the previous answer.
//  No changes are needed in the JavaScript ‚Äì only the CSS colors above were updated.
</script>
</body>
</html>
